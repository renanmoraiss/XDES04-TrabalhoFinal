<!doctype html>
<html lang="pt-BR">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sistema de Biblioteca Escolar</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>
<body>
	<div class="app-shell">
		<aside class="sidebar">
			<div class="sidebar-brand">
				<i class="fa-solid fa-building-columns"></i>
				<span>Biblioteca Escolar</span>
			</div>
			<div class="sidebar-user">
				<div class="avatar-circle">üìó</div>
				<div>
					<p>Bem-vindo(a)</p>
					<strong>Bibliotec√°rio(a)</strong>
				</div>
			</div>
			<nav class="sidebar-nav">
				<p class="nav-label">Painel</p>
				<a href="#/home" id="tab-home" class="tab active"><i class="fa-solid fa-chart-line"></i><span>Dashboard</span></a>
				<p class="nav-label">Alunos</p>
				<a href="#/aluno/cadastro" id="tab-cadastro" class="tab"><i class="fa-solid fa-user-plus"></i><span>Cadastro</span></a>
				<a href="#/aluno/consulta" id="tab-consulta" class="tab"><i class="fa-solid fa-list"></i><span>Consulta</span></a>
				<p class="nav-label">Autores</p>
				<a href="#/autor/cadastro" id="tab-autor-cadastro" class="tab"><i class="fa-solid fa-pen-nib"></i><span>Cadastro</span></a>
				<a href="#/autor/consulta" id="tab-autor-consulta" class="tab"><i class="fa-solid fa-folder-open"></i><span>Consulta</span></a>
				<p class="nav-label">Editoras</p>
				<a href="#/editora/cadastro" id="tab-editora-cadastro" class="tab"><i class="fa-solid fa-building"></i><span>Cadastro</span></a>
				<a href="#/editora/consulta" id="tab-editora-consulta" class="tab"><i class="fa-solid fa-clipboard-list"></i><span>Consulta</span></a>
				<p class="nav-label">Livros</p>
				<a href="#/livro/cadastro" id="tab-livro-cadastro" class="tab"><i class="fa-solid fa-book-medical"></i><span>Cadastro</span></a>
				<a href="#/livro/consulta" id="tab-livro-consulta" class="tab"><i class="fa-solid fa-book-open"></i><span>Consulta</span></a>
				<p class="nav-label">Empr√©stimos</p>
				<a href="#/emprestimo/cadastro" id="tab-emprestimo-cadastro" class="tab"><i class="fa-solid fa-arrow-right-arrow-left"></i><span>Efetuar</span></a>
				<a href="#/emprestimo/consulta" id="tab-emprestimo-consulta" class="tab"><i class="fa-solid fa-magnifying-glass"></i><span>Consultar</span></a>
				<p class="nav-label">Reservas</p>
				<a href="#/reserva/cadastro" id="tab-reserva-cadastro" class="tab"><i class="fa-solid fa-bookmark"></i><span>Efetuar</span></a>
				<a href="#/reserva/consulta" id="tab-reserva-consulta" class="tab"><i class="fa-solid fa-eye"></i><span>Consultar</span></a>
				<p class="nav-label">Relat√≥rios</p>
				<a href="#/relatorios" id="tab-relatorios" class="tab"><i class="fa-solid fa-chart-pie"></i><span>G√™neros Emprestados</span></a>
				<a href="#/relatorios-faixa-etaria" id="tab-relatorios-faixa-etaria" class="tab"><i class="fa-solid fa-chart-bar"></i><span>Faixa Et√°ria X Empr√©stimo</span></a>
				<p class="nav-label">Institucional</p>
				<a href="#/instituicao" id="tab-instituicao" class="tab"><i class="fa-solid fa-circle-info"></i><span>Sobre</span></a>
			</nav>
		</aside>
		<div class="main-column">
			<header class="topbar">
				<div>
					<p class="topbar-subtitle">Sistema de Biblioteca Escolar ‚Ä¢ V3.0</p>
					<h1 class="topbar-title">Painel de Gest√£o</h1>
				</div>
				<div class="topbar-actions">
					<a href="login.html" class="btn ghost">Sair</a>
				</div>
			</header>

			<main class="container">
		<section id="view-home" class="view">
			<div class="hero">
				<h2 class="hero-title">Sistema de Biblioteca Escolar</h2>
				<p class="hero-subtitle">Bem-vindo(a) ao Sistema para Controle de Acervo Liter√°rio</p>
			</div>

			<div class="entities">
				<div class="entity-card">
					<h3 class="entity-title">Alunos</h3>
					<div class="stat-card">
						<div class="stat-label">Alunos cadastrados</div>
						<div class="stat-value" id="stat-total-alunos">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/aluno/cadastro">Cadastrar Aluno</a>
						<a class="btn" href="#/aluno/consulta">Consultar Aluno</a>
					</div>
				</div>
				<div class="entity-card">
					<h3 class="entity-title">Autores</h3>
					<div class="stat-card">
						<div class="stat-label">Autores cadastrados</div>
						<div class="stat-value" id="stat-total-autores">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/autor/cadastro">Cadastrar Autor</a>
						<a class="btn" href="#/autor/consulta">Consultar Autor</a>
					</div>
				</div>
				<div class="entity-card">
					<h3 class="entity-title">Editoras</h3>
					<div class="stat-card">
						<div class="stat-label">Editoras cadastradas</div>
						<div class="stat-value" id="stat-total-editoras">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/editora/cadastro">Cadastrar Editora</a>
						<a class="btn" href="#/editora/consulta">Consultar Editora</a>
					</div>
				</div>
				<div class="entity-card">
					<h3 class="entity-title">Livros</h3>
					<div class="stat-card">
						<div class="stat-label">Livros cadastrados</div>
						<div class="stat-value" id="stat-total-livros">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/livro/cadastro">Cadastrar Livro</a>
						<a class="btn" href="#/livro/consulta">Consultar Livro</a>
					</div>
				</div>
				<div class="entity-card">
					<h3 class="entity-title">Empr√©stimos</h3>
					<div class="stat-card">
						<div class="stat-label">Empr√©stimos ativos</div>
						<div class="stat-value" id="stat-total-emprestimos">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/emprestimo/cadastro">Efetuar Empr√©stimo</a>
						<a class="btn" href="#/emprestimo/consulta">Consultar Empr√©stimo</a>
					</div>
				</div>
				<div class="entity-card">
					<h3 class="entity-title">Reservas</h3>
					<div class="stat-card">
						<div class="stat-label">Reservas ativas</div>
						<div class="stat-value" id="stat-total-reservas">0</div>
					</div>
					<div class="entity-actions">
						<a class="btn primary" href="#/reserva/cadastro">Efetuar Reserva</a>
						<a class="btn" href="#/reserva/consulta">Consultar Reserva</a>
					</div>
				</div>
			</div>
		</section>

		<section id="view-cadastro" class="view">
			<h2>Cadastrar Aluno</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="aluno" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="aluno" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-cadastro" novalidate>
				<div class="form-row">
					<label for="nome">Nome *</label>
					<input type="text" id="nome" name="nome" required placeholder="Ex.: Maria da Silva" maxlength="150">
				</div>
				<div class="form-row">
					<label for="matricula">N¬∫ de Matr√≠cula *</label>
					<input type="text" id="matricula" name="matricula" required inputmode="numeric" placeholder="Ex.: 2025" maxlength="4">
				</div>
				<div class="form-row">
					<label for="email">E-mail Institucional *</label>
					<input type="email" id="email" name="email" required placeholder="Ex.: maria.silva@atlas.com.br" pattern="^[^\s@]+@escola\.com\.br$" title="Use um e-mail institucional que termine com @atlas.com.br" maxlength="100">
				</div>
				<div class="form-row">
					<label for="telefone">Telefone</label>
					<input type="text" id="telefone" name="telefone" inputmode="numeric" placeholder="Ex.: (11) 98888-7777" maxlength="15">
				</div>
				<div class="form-row">
					<label for="dataNascimento">Data de Nascimento *</label>
					<input type="date" id="dataNascimento" name="dataNascimento" required max="2025-12-31">
				</div>
				<div class="form-actions">
					<button id="submit-aluno" type="submit" class="btn primary">Cadastrar</button>
					<button type="reset" class="btn">Limpar</button>
				</div>
				<div id="cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
		</section>

		<section id="view-consulta" class="view hidden">
			<h2>Consulta de Alunos</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="aluno" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="aluno" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroNome">Nome</label>
					<input type="text" id="filtroNome" placeholder="Buscar por nome" maxlength="100">
				</div>
				<div class="form-row-filters">
					<label for="filtroMatricula">N¬∫ de Matr√≠cula</label>
					<input type="text" id="filtroMatricula" inputmode="numeric" placeholder="Ex.: 2025" maxlength="4">
				</div>
				<div class="form-row-filters">
					<label for="filtroStatus">Status</label>
					<select id="filtroStatus">
						<option value="">Todos</option>
						<option value="Ativo">Ativo</option>
						<option value="Inativo">Inativo</option>
						<option value="Suspenso">Suspenso</option>
					</select>
				</div>
				<div class="form-row-filters">
					<label for="filtroPendencias">Pend√™ncias</label>
					<select id="filtroPendencias">
						<option value="">Todos</option>
						<option value="com">Sim</option>
						<option value="sem">N√£o</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>

			<div id="lista-container">
				<table class="table" id="tabela-alunos">
					<thead>
						<tr>
							<th>Nome</th>
							<th>N¬∫ de Matr√≠cula</th>
							<th>E-mail Institucional</th>
							<th>Telefone</th>
							<th>Data de Nascimento</th>
							<th>Status</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-alunos">
						<tr><td colspan="7" class="empty">Nenhum aluno encontrado.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-instituicao" class="view hidden">
			<h2>Sobre a Biblioteca</h2>
			<p class="note">A biblioteca escolar √© um espa√ßo de aprendizagem, incentivo √† leitura e apoio pedag√≥gico, promovendo o acesso √† informa√ß√£o e ao conhecimento.</p>
		</section>

		<section id="view-autor-cadastro" class="view hidden">
			<h2>Cadastrar Autor</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="autor" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="autor" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-autor-cadastro" novalidate>
				<div class="form-row">
					<label for="autorNome">Nome *</label>
					<input type="text" id="autorNome" required placeholder="Ex.: Machado de Assis" maxlength="150">
				</div>
				<div class="form-row">
					<label for="autorNacionalidade">Nacionalidade</label>
					<input type="text" id="autorNacionalidade" placeholder="Ex.: Brasileira" maxlength="100">
				</div>
				<div class="form-row">
					<label for="autorNascimento">Data de Nascimento</label>
					<input type="date" id="autorNascimento" max="2025-12-31">
				</div>
				<div class="form-row">
					<label for="autorBiografia">Biografia</label>
					<textarea class="resumo-autor-placeholder" id="autorBiografia" rows="4" placeholder="Resumo biogr√°fico" maxlength="1000"></textarea>
				</div>
				<div class="form-actions">
					<button id="submit-autor" type="submit" class="btn primary">Cadastrar</button>
					<button type="reset" class="btn">Limpar</button>
				</div>
				<div id="autor-cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
		</section>

		<section id="view-autor-consulta" class="view hidden">
			<h2>Consulta de Autores</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="autor" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="autor" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-autor-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroAutorNome">Nome</label>
					<input type="text" id="filtroAutorNome" placeholder="Buscar por nome" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroAutorNacionalidade">Nacionalidade</label>
					<input type="text" id="filtroAutorNacionalidade" placeholder="Ex.: Brasileira" maxlength="100">
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnAutorLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>

			<div id="autor-lista-container">
				<table class="table" id="tabela-autores">
					<thead>
						<tr>
							<th>Nome</th>
							<th>Nacionalidade</th>
							<th>Data de Nascimento</th>
							<th>Biografia</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-autores">
						<tr><td colspan="5" class="empty">Nenhum autor encontrado.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-editora-cadastro" class="view hidden">
			<h2>Cadastrar Editora</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="editora" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="editora" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-editora-cadastro" novalidate>
				<div class="form-row">
					<label for="editoraNome">Nome *</label>
					<input type="text" id="editoraNome" name="editoraNome" required placeholder="Ex.: Editora Atlas" maxlength="100">
				</div>
				<div class="form-row">
					<label for="editoraTelefone">Telefone de Contato *</label>
					<input type="text" id="editoraTelefone" name="editoraTelefone" required inputmode="numeric" placeholder="Ex.: 1234 567 8901" maxlength="13">
				</div>
				<div class="form-row">
					<label for="editoraEndereco">Endere√ßo Comercial</label>
					<input type="text" id="editoraEndereco" name="editoraEndereco" placeholder="Ex.: Rua das Flores, 123" maxlength="200">
				</div>
				<div class="form-actions">
					<button id="submit-editora" type="submit" class="btn primary">Cadastrar</button>
					<button type="reset" class="btn">Limpar</button>
				</div>
				<div id="editora-cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
		</section>

		<section id="view-editora-consulta" class="view hidden">
			<h2>Consulta de Editoras</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="editora" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="editora" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-editora-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroEditoraNome">Nome</label>
					<input type="text" id="filtroEditoraNome" placeholder="Buscar por nome" maxlength="100">
				</div>
				<div class="form-row-filters">
					<label for="filtroEditoraStatus">Status</label>
					<select id="filtroEditoraStatus">
						<option value="">Todos</option>
						<option value="Ativa">Ativa</option>
						<option value="Inativa">Inativa</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnEditoraLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>

			<div id="editora-lista-container">
				<table class="table" id="tabela-editoras">
					<thead>
						<tr>
							<th>Nome</th>
							<th>Telefone de Contato</th>
							<th>Endere√ßo Comercial</th>
							<th>Status</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-editoras">
						<tr><td colspan="5" class="empty">Nenhuma editora encontrada.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-livro-cadastro" class="view hidden">
			<h2>Cadastrar Livro</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="livro" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="livro" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-livro-cadastro" novalidate>
				<div class="form-row">
					<label for="livroTitulo">T√≠tulo *</label>
					<input type="text" id="livroTitulo" name="livroTitulo" required maxlength="100" placeholder="Ex.: O Guia do Mochileiro das Gal√°xias">
				</div>
				<div class="form-row">
					<label for="livroAutores">Autor(es) *</label>
					<select id="livroAutores" name="livroAutores" multiple required size="5">
						<option value="" disabled>Carregando autores...</option>
					</select>
					<div class="selected-chips" id="livroAutoresChips" data-empty="Nenhum autor selecionado"></div>
					<small class="hint">Selecione um ou mais autores.</small>
				</div>
				<div class="form-row">
					<label for="livroIsbn">ISBN *</label>
					<input type="text" id="livroIsbn" name="livroIsbn" required maxlength="17" placeholder="XXX-XX-XXXX-XXX-X">
				</div>
				<div class="form-row">
					<label for="livroGeneros">G√™nero(s) *</label>
					<select id="livroGeneros" name="livroGeneros" multiple required size="6">
					</select>
					<div class="selected-chips" id="livroGenerosChips" data-empty="Nenhum g√™nero selecionado"></div>
					<small class="hint">Selecione pelo menos um g√™nero.</small>
				</div>
				<div class="form-row">
					<label for="livroExemplares">Exemplares *</label>
					<input type="text" id="livroExemplares" name="livroExemplares" required inputmode="numeric" maxlength="4" placeholder="Quantidade dispon√≠vel">
				</div>
				<div class="form-row">
					<label for="livroEditoras">Editora(s)</label>
					<select id="livroEditoras" name="livroEditoras" multiple size="4">
						<option value="">Carregando editoras...</option>
					</select>
					<div class="selected-chips" id="livroEditorasChips" data-empty="Nenhuma editora selecionada"></div>
					<small class="hint">Opcional. Selecione uma ou mais editoras.</small>
				</div>
				<div class="grid">
					<div class="form-row">
						<label for="livroAno">Ano de Publica√ß√£o</label>
						<input type="text" id="livroAno" name="livroAno" placeholder="Ex.: 2024" maxlength="4" inputmode="numeric">
					</div>
					<div class="form-row">
						<label for="livroLocalizacao">Localiza√ß√£o F√≠sica</label>
						<input type="text" id="livroLocalizacao" name="livroLocalizacao" maxlength="100" placeholder="Ex.: Estante B - Prateleira 3">
					</div>
				</div>
				<div class="form-actions">
					<button id="submit-livro" type="submit" class="btn primary">Cadastrar</button>
					<button type="reset" class="btn">Limpar</button>
				</div>
				<div id="livro-cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
		</section>

		<section id="view-livro-consulta" class="view hidden">
			<h2>Consulta de Livros</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="livro" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="livro" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-livro-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroLivroTitulo">T√≠tulo</label>
					<input type="text" id="filtroLivroTitulo" placeholder="Buscar por t√≠tulo" maxlength="100">
				</div>
				<div class="form-row-filters">
					<label for="filtroLivroAutor">Autor</label>
					<input type="text" id="filtroLivroAutor" placeholder="Buscar por autor" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroLivroIsbn">ISBN</label>
					<input type="text" id="filtroLivroIsbn" placeholder="XXX-XX-XXXX-XXX-X" maxlength="17">
				</div>
				<div class="form-row-filters">
					<label for="filtroLivroGenero">G√™nero</label>
					<select id="filtroLivroGenero">
						<option value="">Todos</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnLivroLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>

			<div id="livro-lista-container">
				<table class="table" id="tabela-livros">
					<thead>
						<tr>
							<th>T√≠tulo</th>
							<th>Autor(es)</th>
							<th>ISBN</th>
							<th>G√™nero(s)</th>
							<th>Exemplares</th>
							<th>Editora(s)</th>
							<th>Ano</th>
							<th>Localiza√ß√£o</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-livros">
						<tr><td colspan="9" class="empty">Nenhum livro encontrado.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-emprestimo-cadastro" class="view hidden">
			<h2>Efetuar Empr√©stimo</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="emprestimo" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="emprestimo" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-emprestimo-cadastro" novalidate>
				<div class="form-row">
					<label for="emprestimoAluno">Identificador do Aluno *</label>
					<select id="emprestimoAluno" required>
						<option value="">Selecione um aluno ativo</option>
					</select>
					<small class="hint">Somente alunos com status Ativo e sem pend√™ncias aparecem nesta lista.</small>
				</div>
				<div class="form-row">
					<label for="emprestimoLivro">Identificador do Livro *</label>
					<select id="emprestimoLivro" required>
						<option value="">Selecione um livro com exemplar dispon√≠vel</option>
					</select>
					<small class="hint">O sistema verifica reservas ativas e disponibilidade em tempo real.</small>
				</div>
				<input type="hidden" id="emprestimoData">
				<input type="hidden" id="emprestimoStatus" value="Ativo">
				<div class="form-row">
					<label for="emprestimoDataPrevista">Data de Devolu√ß√£o Prevista *</label>
					<input type="date" id="emprestimoDataPrevista" required>
					<small class="hint">Sugest√£o autom√°tica de 7 dias. Pode ser ajustada.</small>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Registrar Empr√©stimo</button>
					<button type="reset" class="btn" id="btnEmprestimoReset">Limpar</button>
				</div>
				<div id="emprestimo-cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
			<p class="note">Limite m√°ximo de 3 empr√©stimos ativos por aluno. Empr√©stimos atrasados bloqueiam novos registros.</p>
		</section>

		<section id="view-emprestimo-consulta" class="view hidden">
			<h2>Consulta de Empr√©stimos</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="emprestimo" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="emprestimo" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-emprestimo-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroEmprestimoAluno">Aluno (Nome ou Matr√≠cula)</label>
					<input type="text" id="filtroEmprestimoAluno" placeholder="Ex.: Maria ou 2025" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroEmprestimoLivro">Livro (T√≠tulo ou ISBN)</label>
					<input type="text" id="filtroEmprestimoLivro" placeholder="Ex.: Dom Casmurro" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroEmprestimoStatus">Status</label>
					<select id="filtroEmprestimoStatus">
						<option value="">Todos</option>
						<option value="Ativo">Ativo</option>
						<option value="Devolvido">Devolvido</option>
						<option value="Atrasado">Atrasado</option>
						<option value="Perdido">Perdido</option>
					</select>
				</div>
				<div class="form-row-filters">
					<label for="filtroEmprestimoDataPrevista">Data de Devolu√ß√£o Prevista</label>
					<input type="date" id="filtroEmprestimoDataPrevista">
				</div>
				<div class="form-row-filters checkbox">
					<label class="checkbox-inline">
						<input type="checkbox" id="filtroEmprestimoAtrasado">
						Mostrar apenas empr√©stimos atrasados
					</label>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnEmprestimoLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>
			<div id="emprestimo-lista-container">
				<table class="table" id="tabela-emprestimos">
					<thead>
						<tr>
							<th>Aluno</th>
							<th>Livro</th>
							<th>Data de Empr√©stimo</th>
							<th>Devolu√ß√£o Prevista</th>
							<th>Status</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-emprestimos">
						<tr><td colspan="6" class="empty">Nenhum empr√©stimo encontrado.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-reserva-cadastro" class="view hidden">
			<h2>Efetuar Reserva</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="reserva" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="reserva" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-reserva-cadastro" novalidate>
				<div class="form-row">
					<label for="reservaAluno">Identificador do Aluno *</label>
					<select id="reservaAluno" required>
						<option value="">Selecione um aluno ativo</option>
					</select>
					<small class="hint">Limitado a 3 reservas ativas por aluno.</small>
				</div>
				<div class="form-row">
					<label for="reservaLivro">Identificador do Livro *</label>
					<select id="reservaLivro" required>
						<option value="">Selecione um livro com disponibilidade</option>
					</select>
					<small class="hint">O sistema respeita reservas j√° existentes e disponibilidade de exemplares.</small>
				</div>
				<input type="hidden" id="reservaData">
				<input type="hidden" id="reservaStatus" value="Ativa">
				<div class="form-row">
					<label for="reservaDataExpiracao">Data de Expira√ß√£o *</label>
					<input type="date" id="reservaDataExpiracao" required>
					<small class="hint">Sugest√£o autom√°tica de 5 dias. Pode ser ajustada.</small>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Registrar Reserva</button>
					<button type="reset" class="btn" id="btnReservaReset">Limpar</button>
				</div>
				<div id="reserva-cadastro-messages" class="messages" aria-live="polite"></div>
			</form>
			<p class="note">N√£o √© poss√≠vel criar reservas duplicadas (mesmo aluno e livro) com status Ativa.</p>
		</section>

		<section id="view-reserva-consulta" class="view hidden">
			<h2>Consulta de Reservas</h2>
			<div class="history-actions">
				<button type="button" class="btn" data-history-entity="reserva" data-history-type="edit">Hist√≥rico de Edi√ß√µes</button>
				<button type="button" class="btn" data-history-entity="reserva" data-history-type="delete">Hist√≥rico de Exclus√µes</button>
			</div>
			<form id="form-reserva-filtro" class="filters">
				<div class="form-row-filters">
					<label for="filtroReservaAluno">Aluno (Nome ou Matr√≠cula)</label>
					<input type="text" id="filtroReservaAluno" placeholder="Ex.: Jo√£o ou 1001" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroReservaLivro">Livro (T√≠tulo ou ISBN)</label>
					<input type="text" id="filtroReservaLivro" placeholder="Ex.: Sapiens" maxlength="150">
				</div>
				<div class="form-row-filters">
					<label for="filtroReservaStatus">Status</label>
					<select id="filtroReservaStatus">
						<option value="">Todos</option>
						<option value="Ativa">Ativa</option>
						<option value="Cancelada">Cancelada</option>
						<option value="Expirada">Expirada</option>
						<option value="Conclu√≠da">Conclu√≠da</option>
					</select>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Filtrar</button>
					<button type="button" id="btnReservaLimparFiltros" class="btn">Limpar</button>
				</div>
			</form>
			<div id="reserva-lista-container">
				<table class="table" id="tabela-reservas">
					<thead>
						<tr>
							<th>Aluno</th>
							<th>Livro</th>
							<th>Data da Reserva</th>
							<th>Expira√ß√£o</th>
							<th>Status</th>
							<th>A√ß√µes</th>
						</tr>
					</thead>
					<tbody id="tbody-reservas">
						<tr><td colspan="6" class="empty">Nenhuma reserva encontrada.</td></tr>
					</tbody>
				</table>
			</div>
		</section>

		<section id="view-relatorios" class="view hidden">
			<div class="view-header">
				<div>
					<h2>Relat√≥rios de G√™neros Emprestados</h2>
					<p class="note">Filtre por per√≠odo e g√™nero para visualizar gr√°ficos e detalhes agrupados.</p>
				</div>
				<button type="button" class="btn" id="btnRelatorioHistorico">Hist√≥rico de Emiss√µes</button>
			</div>
			<form id="form-relatorio-generos" class="relatorio-form" novalidate>
				<div class="grid">
					<div class="form-row">
						<label for="relatorioDataInicio">Data inicial *</label>
						<input type="date" id="relatorioDataInicio" required>
					</div>
					<div class="form-row">
						<label for="relatorioDataFim">Data final *</label>
						<input type="date" id="relatorioDataFim" required>
					</div>
					<div class="form-row relatorio-generos">
						<label for="relatorioGeneros">G√™nero(s)</label>
						<select id="relatorioGeneros" multiple size="6"></select>
						<div class="selected-chips" id="relatorioGenerosChips" data-empty="Todos os g√™neros"></div>
						<small class="hint">Selecione um ou mais g√™neros. Por padr√£o considera todos.</small>
					</div>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Emitir Relat√≥rios</button>
					<button type="reset" class="btn ghost">Limpar</button>
				</div>
			</form>
			<div id="relatorio-messages" class="messages" aria-live="polite"></div>
			<div id="relatorio-result" class="relatorio-card hidden">
				<div class="relatorio-summary">
					<div class="relatorio-chart">
						<h3 id="relatorio-pie-title">G√™neros Mais Emprestados (Percentual)</h3>
						<canvas id="relatorioPieChart" aria-label="Gr√°fico de pizza de g√™neros"></canvas>
					</div>
					<div class="relatorio-chart">
						<h3 id="relatorio-bar-title">G√™neros Mais Emprestados (N√∫meros Absolutos)</h3>
						<canvas id="relatorioBarChart" aria-label="Gr√°fico de barras de g√™neros"></canvas>
					</div>
				</div>
				<div id="relatorio-detalhes" class="relatorio-detalhes"></div>
			</div>
			<div id="relatorio-historico" class="relatorio-history hidden">
				<h3>Hist√≥rico de emiss√µes</h3>
				<ul id="relatorio-historico-list">
					<li class="empty">Nenhuma emiss√£o registrada.</li>
				</ul>
			</div>
		</section>

		<section id="view-relatorios-faixa-etaria" class="view hidden">
			<div class="view-header">
				<div>
					<h2>Relat√≥rios de Faixa Et√°ria X Empr√©stimo</h2>
					<p class="note">Filtre por per√≠odo e faixa et√°ria para visualizar gr√°ficos e detalhes agrupados.</p>
				</div>
				<button type="button" class="btn" id="btnRelatorioFaixaEtariaHistorico">Hist√≥rico de Emiss√µes</button>
			</div>
			<form id="form-relatorio-faixa-etaria" class="relatorio-form" novalidate>
				<div class="grid">
					<div class="form-row">
						<label for="relatorioFaixaEtariaDataInicio">Data inicial *</label>
						<input type="date" id="relatorioFaixaEtariaDataInicio" required>
					</div>
					<div class="form-row">
						<label for="relatorioFaixaEtariaDataFim">Data final *</label>
						<input type="date" id="relatorioFaixaEtariaDataFim" required>
					</div>
					<div class="form-row">
						<label for="relatorioFaixaEtaria">Faixa et√°ria</label>
						<select id="relatorioFaixaEtaria">
							<option value="">Todas as faixas et√°rias</option>
							<option value="0-5">0 - 5</option>
							<option value="6-11">6 - 11</option>
							<option value="12-14">12 - 14</option>
							<option value="15-17">15 - 17</option>
							<option value="18+">18+</option>
						</select>
						<small class="hint">Selecione uma faixa et√°ria. Por padr√£o considera todas.</small>
					</div>
				</div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Emitir Relat√≥rio</button>
					<button type="reset" class="btn ghost">Limpar</button>
				</div>
			</form>
			<div id="relatorio-faixa-etaria-messages" class="messages" aria-live="polite"></div>
			<div id="relatorio-faixa-etaria-result" class="relatorio-card hidden">
				<div class="relatorio-summary">
					<div class="relatorio-chart">
						<h3 id="relatorio-faixa-etaria-bar-title">Faixa Et√°ria X Empr√©stimo</h3>
						<canvas id="relatorioFaixaEtariaBarChart" aria-label="Gr√°fico de barras de faixa et√°ria"></canvas>
					</div>
				</div>
				<div id="relatorio-faixa-etaria-detalhes" class="relatorio-detalhes"></div>
			</div>
			<div id="relatorio-faixa-etaria-historico" class="relatorio-history hidden">
				<h3>Hist√≥rico de emiss√µes</h3>
				<ul id="relatorio-faixa-etaria-historico-list">
					<li class="empty">Nenhuma emiss√£o registrada.</li>
				</ul>
			</div>
		</section>
			</main>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Aluno -->
	<div id="modal-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
		<div class="modal">
			<h3 id="modal-title">Editar Aluno</h3>
			<form id="form-edicao" novalidate>
				<input type="hidden" id="edit-id">
				<div class="grid">
					<div class="form-row">
						<label>Data de Cadastro</label>
						<input type="text" id="edit-dataCadastro" disabled>
						<small class="hint">N√£o pode ser alterada.</small>
					</div>
					<div class="form-row">
						<label>N¬∫ de Matr√≠cula</label>
						<input type="text" id="edit-matricula" disabled>
						<small class="hint">N√£o pode ser alterado.</small>
					</div>
					<div class="form-row">
						<label>E-mail Institucional</label>
						<input type="email" id="edit-email" disabled>
						<small class="hint">N√£o pode ser alterado.</small>
					</div>
				</div>
				<div class="form-row">
					<label for="edit-nome">Nome *</label>
					<input type="text" id="edit-nome" required maxlength="150">
				</div>
				<div class="form-row">
					<label for="edit-telefone">Telefone</label>
					<input type="text" id="edit-telefone" inputmode="numeric" maxlength="15">
				</div>
				<div class="form-row">
					<label for="edit-dataNascimento">Data de Nascimento *</label>
					<input type="date" id="edit-dataNascimento" required max="2025-12-31">
				</div>
				<div class="form-row">
					<label for="edit-status">Status *</label>
					<select id="edit-status" required>
						<option value="Ativo">Ativo</option>
						<option value="Inativo">Inativo</option>
						<option value="Suspenso">Suspenso</option>
					</select>
				</div>
				<div id="edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar</button>
					<button type="button" id="btnCancelarEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Autor -->
	<div id="modal-autor-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-autor-title">
		<div class="modal">
			<h3 id="modal-autor-title">Editar Autor</h3>
			<form id="form-autor-edicao" novalidate>
				<input type="hidden" id="edit-autor-id">
				<div class="form-row">
					<label for="edit-autor-nome">Nome *</label>
					<input type="text" id="edit-autor-nome" required maxlength="150">
				</div>
				<div class="form-row">
					<label for="edit-autor-nacionalidade">Nacionalidade</label>
					<input type="text" id="edit-autor-nacionalidade" maxlength="100">
				</div>
				<div class="form-row">
					<label for="edit-autor-nascimento">Data de Nascimento</label>
					<input type="date" id="edit-autor-nascimento" max="2025-12-31">
				</div>
				<div class="form-row">
					<label for="edit-autor-biografia">Biografia</label>
					<textarea class="resumo-autor-placeholder" id="edit-autor-biografia" rows="4" maxlength="1000"></textarea>
				</div>
				<div id="autor-edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar</button>
					<button type="button" id="btnCancelarAutorEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Editora -->
	<div id="modal-editora-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-editora-title">
		<div class="modal">
			<h3 id="modal-editora-title">Editar Editora</h3>
			<form id="form-editora-edicao" novalidate>
				<input type="hidden" id="edit-editora-id">
				<div class="form-row">
					<label for="edit-editora-nome">Nome *</label>
					<input type="text" id="edit-editora-nome" required maxlength="100">
				</div>
				<div class="form-row">
					<label for="edit-editora-telefone">Telefone de Contato *</label>
					<input type="text" id="edit-editora-telefone" required inputmode="numeric" maxlength="13">
				</div>
				<div class="form-row">
					<label for="edit-editora-endereco">Endere√ßo Comercial</label>
					<input type="text" id="edit-editora-endereco" maxlength="200">
				</div>
				<div class="form-row">
					<label for="edit-editora-status">Status *</label>
					<select id="edit-editora-status" required>
						<option value="Ativa">Ativa</option>
						<option value="Inativa">Inativa</option>
					</select>
				</div>
				<div id="editora-edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar</button>
					<button type="button" id="btnCancelarEditoraEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Livro -->
	<div id="modal-livro-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-livro-title">
		<div class="modal">
			<h3 id="modal-livro-title">Editar Livro</h3>
			<form id="form-livro-edicao" novalidate>
				<input type="hidden" id="edit-livro-id">
				<div class="form-row">
					<label for="edit-livro-titulo">T√≠tulo *</label>
					<input type="text" id="edit-livro-titulo" required maxlength="100">
				</div>
				<div class="form-row">
					<label for="edit-livro-autores">Autor(es) *</label>
					<select id="edit-livro-autores" multiple required size="5"></select>
					<div class="selected-chips" id="editLivroAutoresChips" data-empty="Nenhum autor selecionado"></div>
				</div>
				<div class="form-row">
					<label for="edit-livro-isbn">ISBN *</label>
					<input type="text" id="edit-livro-isbn" required maxlength="17">
				</div>
				<div class="form-row">
					<label for="edit-livro-generos">G√™nero(s) *</label>
					<select id="edit-livro-generos" multiple required size="6"></select>
					<div class="selected-chips" id="editLivroGenerosChips" data-empty="Nenhum g√™nero selecionado"></div>
				</div>
				<div class="form-row">
					<label for="edit-livro-exemplares">Exemplares *</label>
					<input type="text" id="edit-livro-exemplares" required inputmode="numeric" maxlength="4">
				</div>
				<div class="form-row">
					<label for="edit-livro-editoras">Editora(s)</label>
					<select id="edit-livro-editoras" multiple size="4"></select>
					<div class="selected-chips" id="editLivroEditorasChips" data-empty="Nenhuma editora selecionada"></div>
				</div>
				<div class="grid">
					<div class="form-row">
						<label for="edit-livro-ano">Ano de Publica√ß√£o</label>
						<input type="text" id="edit-livro-ano" maxlength="4" inputmode="numeric">
					</div>
					<div class="form-row">
						<label for="edit-livro-localizacao">Localiza√ß√£o F√≠sica</label>
						<input type="text" id="edit-livro-localizacao" maxlength="100">
					</div>
				</div>
				<div id="livro-edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar</button>
					<button type="button" id="btnCancelarLivroEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Empr√©stimo -->
	<div id="modal-emprestimo-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-emprestimo-title">
		<div class="modal">
			<h3 id="modal-emprestimo-title">Alterar Empr√©stimo</h3>
			<form id="form-emprestimo-edicao" novalidate>
				<input type="hidden" id="edit-emprestimo-id">
				<div class="form-row">
					<label>Aluno</label>
					<input type="text" id="edit-emprestimo-aluno" readonly>
					<small class="hint">N√£o pode ser alterado.</small>
				</div>
				<div class="form-row">
					<label>Livro</label>
					<input type="text" id="edit-emprestimo-livro" readonly>
					<small class="hint">N√£o pode ser alterado.</small>
				</div>
				<div class="grid">
					<div class="form-row">
						<label>Data de Empr√©stimo</label>
						<input type="text" id="edit-emprestimo-data" readonly>
						<small class="hint">N√£o pode ser alterada.</small>
					</div>
					<div class="form-row">
						<label for="edit-emprestimo-prevista">Data de Devolu√ß√£o Prevista *</label>
						<input type="date" id="edit-emprestimo-prevista" required>
					</div>
				</div>
				<div class="form-row">
					<label for="edit-emprestimo-status">Status *</label>
					<select id="edit-emprestimo-status" required>
						<option value="Ativo">Ativo</option>
						<option value="Devolvido">Devolvido</option>
						<option value="Atrasado">Atrasado</option>
						<option value="Perdido">Perdido</option>
					</select>
				</div>
				<div id="emprestimo-edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar Altera√ß√µes</button>
					<button type="button" id="btnCancelarEmprestimoEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Edi√ß√£o de Reserva -->
	<div id="modal-reserva-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-reserva-title">
		<div class="modal">
			<h3 id="modal-reserva-title">Alterar Reserva</h3>
			<form id="form-reserva-edicao" novalidate>
				<input type="hidden" id="edit-reserva-id">
				<div class="form-row">
					<label>Aluno</label>
					<input type="text" id="edit-reserva-aluno" readonly>
					<small class="hint">N√£o pode ser alterado.</small>
				</div>
				<div class="form-row">
					<label>Livro</label>
					<input type="text" id="edit-reserva-livro" readonly>
					<small class="hint">N√£o pode ser alterado.</small>
				</div>
				<div class="grid">
					<div class="form-row">
						<label>Data da Reserva</label>
						<input type="text" id="edit-reserva-data" readonly>
						<small class="hint">N√£o pode ser alterada.</small>
					</div>
					<div class="form-row">
						<label for="edit-reserva-expiracao">Data de Expira√ß√£o *</label>
						<input type="date" id="edit-reserva-expiracao" required>
					</div>
				</div>
				<div class="form-row">
					<label for="edit-reserva-status">Status *</label>
					<select id="edit-reserva-status" required>
						<option value="Ativa">Ativa</option>
						<option value="Cancelada">Cancelada</option>
						<option value="Expirada">Expirada</option>
						<option value="Conclu√≠da">Conclu√≠da</option>
					</select>
				</div>
				<div id="reserva-edicao-messages" class="messages" aria-live="polite"></div>
				<div class="form-actions">
					<button type="submit" class="btn primary">Salvar Altera√ß√µes</button>
					<button type="button" id="btnCancelarReservaEdicao" class="btn">Cancelar</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Modal de Hist√≥rico -->
	<div id="history-overlay" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="history-title">
		<div class="modal history-modal">
			<h3 id="history-title">Hist√≥rico</h3>
			<ul id="history-content" class="history-list">
				<li class="empty">Nenhum registro encontrado.</li>
			</ul>
			<div class="form-actions">
				<button type="button" class="btn" id="btnHistoryClose">Fechar</button>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" integrity="sha384-Sse/HDqcypGpyTDpvZOJNnG0TT3feGQUkF9H+mnRvic+LjR+K1NhTt8f51KIQ3v3" crossorigin="anonymous"></script>
	<script src="app.js"></script>
</body>
</html>